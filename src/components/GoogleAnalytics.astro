---
// Google Analytics 4 Component
// This component handles GA4 tracking with privacy compliance
---

  <>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2KM2HYRBMQ"></script>
    <script is:inline>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-2KM2HYRBMQ', {
        page_title: document.title,
        page_location: window.location.href,
        // Privacy settings
        anonymize_ip: true,
        allow_google_signals: false,
        allow_ad_personalization_signals: false,
        // Enhanced measurement settings
        send_page_view: true,
        // Custom dimensions for blog tracking
        custom_map: {
          'custom_parameter_1': 'post_author',
          'custom_parameter_2': 'post_category',
          'custom_parameter_3': 'reading_time',
          'custom_parameter_4': 'content_type'
        },
        // Set content type to distinguish blog from main site
        custom_parameter_4: window.location.pathname.startsWith('/blog') ? 'blog' : 'main_site'
      });
    </script>
  </>
)}